# ü§ñ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –í–∞—Ä–∏–∞–Ω—Ç 1: Screen (–ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

### –ó–∞–ø—É—Å–∫
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤ screen —Å–µ—Å—Å–∏–∏
screen -S telegram_bot
python bot.py
```

**–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è –æ—Ç —Å–µ—Å—Å–∏–∏:** –Ω–∞–∂–º–∏—Ç–µ `Ctrl+A`, –∑–∞—Ç–µ–º `D`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–µ—Å—Å–∏–∏
screen -r telegram_bot

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
screen -ls

# –£–±–∏—Ç—å —Å–µ—Å—Å–∏—é (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞)
screen -X -S telegram_bot quit
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: Systemd Service (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x setup_bot_service.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
./setup_bot_service.sh
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
sudo systemctl start telegram-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
sudo systemctl stop telegram-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
sudo systemctl restart telegram-bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status telegram-bot

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
sudo systemctl enable telegram-bot

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl disable telegram-bot
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—á–µ—Ä–µ–∑ journalctl)
sudo journalctl -u telegram-bot -f

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—á–µ—Ä–µ–∑ —Ñ–∞–π–ª)
tail -f /var/log/telegram-bot.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
sudo journalctl -u telegram-bot -n 100

# –û—à–∏–±–∫–∏
tail -f /var/log/telegram-bot-error.log
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: Nohup (–ü—Ä–æ—Å—Ç–æ–π —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ
nohup python bot.py > bot.log 2>&1 &

# –£–∑–Ω–∞—Ç—å PID –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep "python bot.py" | grep -v grep

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill <PID>
# –∏–ª–∏ –±–æ–ª–µ–µ –∂–µ—Å—Ç–∫–æ
kill -9 <PID>
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

### –ù–∞–π—Ç–∏ –≤—Å–µ Python –ø—Ä–æ—Ü–µ—Å—Å—ã
```bash
ps aux | grep python | grep -v grep
```

### –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –±–æ—Ç–∞
```bash
ps aux | grep bot.py | grep -v grep
```

### –£–±–∏—Ç—å –≤—Å–µ Python –ø—Ä–æ—Ü–µ—Å—Å—ã (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
```bash
pkill -f "python bot.py"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç
```bash
pgrep -f "python bot.py"
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
```bash
# CPU –∏ –ø–∞–º—è—Ç—å
top -p $(pgrep -f "python bot.py")

# –∏–ª–∏
htop -p $(pgrep -f "python bot.py")
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```bash
sudo netstat -tulpn | grep python
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏

**–° systemd** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ —Å–µ—Ä–≤–∏—Å–µ):
- `Restart=always` - –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å
- `RestartSec=10` - –∂–¥–∞—Ç—å 10 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º

**–° supervisor** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):
```bash
sudo apt install supervisor

# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –≤ /etc/supervisor/conf.d/telegram-bot.conf
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

‚úÖ **–î–ª—è production —Å–µ—Ä–≤–µ—Ä–∞:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **systemd** (–í–∞—Ä–∏–∞–Ω—Ç 2)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ—Å—É—Ä—Å–æ–≤

‚úÖ **–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **screen** (–í–∞—Ä–∏–∞–Ω—Ç 1)
- –ë—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
- –í–∏–¥–µ—Ç—å output –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –õ–µ–≥–∫–æ –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è

---

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ systemd
sudo journalctl -u telegram-bot -n 50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤
tail -100 /var/log/telegram-bot-error.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status telegram-bot
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ config.env –∑–∞–≥—Ä—É–∂–µ–Ω
cat config.env
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
ls -la businesses.db

# –õ–æ–≥–∏
ls -la /var/log/telegram-bot*
```

